{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\venen alex\\\\OneDrive\\\\Desktop\\\\Project_Repos\\\\Personalized-Memory-Assistant\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Send, Mic, Youtube, Sparkles, Menu, Plus, Trash2, MessageSquare, Home } from 'lucide-react';\nimport axios from 'axios';\nimport HomePage from './HomePage';\nimport LoginPage from './LoginPage';\nimport RegisterPage from './RegisterPage';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nexport default function App() {\n  _s();\n  var _sessions$find;\n  const [showHomePage, setShowHomePage] = useState(true);\n  const [showAuth, setShowAuth] = useState('none'); // 'none', 'login', 'register'\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [sessions, setSessions] = useState([]);\n  const [currentSessionId, setCurrentSessionId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [isListening, setIsListening] = useState(false);\n  const messagesEndRef = useRef(null);\n  const messagesContainerRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // Initialize Web Speech API\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setInput(transcript);\n        setIsListening(false);\n      };\n      recognition.onerror = () => {\n        setIsListening(false);\n      };\n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current = recognition;\n    }\n  }, []);\n\n  // Check authentication on mount\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const savedUser = localStorage.getItem('user');\n    if (token && savedUser) {\n      setIsAuthenticated(true);\n      setUser(JSON.parse(savedUser));\n      // Verify token is still valid\n      verifyToken(token);\n    }\n  }, []);\n  const verifyToken = async token => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/auth/me`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setUser(response.data);\n      setIsAuthenticated(true);\n    } catch (error) {\n      // Token invalid, clear auth\n      handleLogout();\n    }\n  };\n  const handleLoginSuccess = data => {\n    setUser(data.user);\n    setIsAuthenticated(true);\n    setShowAuth('none');\n  };\n  const handleRegisterSuccess = data => {\n    setUser(data.user);\n    setIsAuthenticated(true);\n    setShowAuth('none');\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setIsAuthenticated(false);\n    setUser(null);\n    setShowHomePage(true);\n    setMessages([]);\n    setSessions([]);\n    setCurrentSessionId(null);\n  };\n  const handleEnterChat = () => {\n    if (!isAuthenticated) {\n      setShowAuth('login');\n      setShowHomePage(false);\n    } else {\n      setShowHomePage(false);\n    }\n  };\n\n  // Add Authorization header to all axios requests\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n  }, [isAuthenticated]);\n\n  // Load sessions on mount\n  useEffect(() => {\n    loadSessions();\n  }, []);\n\n  // Load messages when session changes\n  useEffect(() => {\n    if (currentSessionId) {\n      loadSession(currentSessionId);\n    }\n  }, [currentSessionId]);\n\n  // Auto-scroll to bottom with smooth behavior\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end'\n      });\n    }\n  }, [messages]);\n  const loadSessions = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/sessions`);\n      setSessions(response.data);\n      if (!currentSessionId && response.data.length > 0) {\n        setCurrentSessionId(response.data[0].session_id);\n      }\n    } catch (error) {\n      console.error('Error loading sessions:', error);\n    }\n  };\n  const loadSession = async sessionId => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/session/${sessionId}`);\n      setMessages(response.data.messages || []);\n      // Scroll to top first, then to bottom after messages load\n      setTimeout(() => {\n        if (messagesContainerRef.current) {\n          messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n        }\n      }, 100);\n    } catch (error) {\n      console.error('Error loading session:', error);\n    }\n  };\n  const createNewSession = async () => {\n    try {\n      const response = await axios.post(`${API_BASE}/api/session/new`);\n      const newSessionId = response.data.session_id;\n      await loadSessions();\n      setCurrentSessionId(newSessionId);\n      setMessages([]);\n    } catch (error) {\n      console.error('Error creating session:', error);\n    }\n  };\n  const deleteSession = async (sessionId, e) => {\n    e.stopPropagation();\n    try {\n      await axios.delete(`${API_BASE}/api/session/${sessionId}`);\n      await loadSessions();\n      if (currentSessionId === sessionId) {\n        setCurrentSessionId(null);\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Error deleting session:', error);\n    }\n  };\n  const sendMessage = async (messageText = input) => {\n    if (!messageText.trim() || loading) return;\n    if (!currentSessionId) {\n      await createNewSession();\n      // Wait a bit for session to be created\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n    const userMessage = {\n      role: 'user',\n      content: messageText\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE}/api/chat`, {\n        message: messageText,\n        session_id: currentSessionId\n      });\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.reply\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      await loadSessions(); // Refresh to get updated title\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error sending message:', error);\n\n      // Get detailed error message from backend\n      let errorDetail = 'Sorry, I encountered an error. Please check if the backend is running and your API key is valid.';\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.detail) {\n        errorDetail = `Error: ${error.response.data.detail}`;\n      } else if (error.message) {\n        errorDetail = `Error: ${error.message}`;\n      }\n      const errorMessage = {\n        role: 'assistant',\n        content: errorDetail\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleYoutubeSummary = async () => {\n    const url = prompt('Enter YouTube video URL:');\n    if (!url) return;\n    if (!currentSessionId) {\n      await createNewSession();\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n    const userMessage = {\n      role: 'user',\n      content: `Summarize: ${url}`\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE}/api/summarize`, {\n        url,\n        session_id: currentSessionId\n      });\n      const summaryMessage = {\n        role: 'assistant',\n        content: response.data.summary\n      };\n      setMessages(prev => [...prev, summaryMessage]);\n      await loadSessions();\n    } catch (error) {\n      console.error('Error summarizing video:', error);\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Sorry, I could not summarize the video. Make sure it has English captions.'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startVoiceInput = () => {\n    if (recognitionRef.current && !isListening) {\n      setIsListening(true);\n      recognitionRef.current.start();\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendMessage();\n  };\n\n  // Show login page\n  if (showAuth === 'login') {\n    return /*#__PURE__*/_jsxDEV(LoginPage, {\n      onLoginSuccess: handleLoginSuccess,\n      onSwitchToRegister: () => setShowAuth('register')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show register page\n  if (showAuth === 'register') {\n    return /*#__PURE__*/_jsxDEV(RegisterPage, {\n      onRegisterSuccess: handleRegisterSuccess,\n      onSwitchToLogin: () => setShowAuth('login')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show homepage\n  if (showHomePage) {\n    return /*#__PURE__*/_jsxDEV(HomePage, {\n      onEnterChat: handleEnterChat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: sidebarOpen && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"sidebar\",\n        initial: {\n          x: -300\n        },\n        animate: {\n          x: 0\n        },\n        exit: {\n          x: -300\n        },\n        transition: {\n          type: 'spring',\n          stiffness: 300,\n          damping: 30\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"sidebar-title\",\n            children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), \"Memory Assistant\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-name\",\n              children: [\"\\uD83D\\uDC64 \", user.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-chat-btn\",\n            onClick: createNewSession,\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), \"New Chat\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-home-btn\",\n            onClick: () => setShowHomePage(true),\n            children: [/*#__PURE__*/_jsxDEV(Home, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), \"Back to Home\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logout-btn\",\n            onClick: handleLogout,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sessions-list\",\n          children: sessions.map(session => /*#__PURE__*/_jsxDEV(motion.div, {\n            className: `session-item ${currentSessionId === session.session_id ? 'active' : ''}`,\n            onClick: () => setCurrentSessionId(session.session_id),\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"session-title\",\n              children: session.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-session-btn\",\n              onClick: e => deleteSession(session.session_id, e),\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, session.session_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-btn\",\n          onClick: () => setSidebarOpen(!sidebarOpen),\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"chat-title\",\n          children: ((_sessions$find = sessions.find(s => s.session_id === currentSessionId)) === null || _sessions$find === void 0 ? void 0 : _sessions$find.title) || 'New Chat'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-container\",\n        ref: messagesContainerRef,\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            size: 64,\n            className: \"empty-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Start a Conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ask me anything, summarize YouTube videos, or use voice input!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(motion.div, {\n            className: `message ${msg.role}`,\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            transition: {\n              duration: 0.3\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: msg.role === 'user' ? 'ðŸ‘¤' : 'ðŸ¤–'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), loading && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"message assistant loading\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"input-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"icon-btn youtube-btn\",\n            onClick: handleYoutubeSummary,\n            title: \"Summarize YouTube Video\",\n            children: /*#__PURE__*/_jsxDEV(Youtube, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `icon-btn mic-btn ${isListening ? 'listening' : ''}`,\n            onClick: startVoiceInput,\n            title: \"Voice Input\",\n            children: /*#__PURE__*/_jsxDEV(Mic, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"message-input\",\n            placeholder: \"Type your message...\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"send-btn\",\n            disabled: !input.trim() || loading,\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"s1DWx5EBBkpNrh957o6dFNoGV90=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Send","Mic","Youtube","Sparkles","Menu","Plus","Trash2","MessageSquare","Home","axios","HomePage","LoginPage","RegisterPage","jsxDEV","_jsxDEV","API_BASE","App","_s","_sessions$find","showHomePage","setShowHomePage","showAuth","setShowAuth","isAuthenticated","setIsAuthenticated","user","setUser","sessions","setSessions","currentSessionId","setCurrentSessionId","messages","setMessages","input","setInput","loading","setLoading","sidebarOpen","setSidebarOpen","isListening","setIsListening","messagesEndRef","messagesContainerRef","recognitionRef","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","onerror","onend","current","token","localStorage","getItem","savedUser","JSON","parse","verifyToken","response","get","headers","data","error","handleLogout","handleLoginSuccess","handleRegisterSuccess","removeItem","handleEnterChat","defaults","common","loadSessions","loadSession","scrollIntoView","behavior","block","length","session_id","console","sessionId","setTimeout","scrollTop","scrollHeight","createNewSession","post","newSessionId","deleteSession","e","stopPropagation","delete","sendMessage","messageText","trim","Promise","resolve","userMessage","role","content","prev","message","assistantMessage","reply","_error$response","_error$response$data","errorDetail","detail","errorMessage","handleYoutubeSummary","url","prompt","summaryMessage","summary","startVoiceInput","start","handleSubmit","preventDefault","onLoginSuccess","onSwitchToRegister","fileName","_jsxFileName","lineNumber","columnNumber","onRegisterSuccess","onSwitchToLogin","onEnterChat","className","children","div","initial","x","animate","exit","transition","type","stiffness","damping","size","username","onClick","map","session","whileHover","scale","whileTap","title","find","s","ref","msg","idx","opacity","y","duration","onSubmit","placeholder","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/venen alex/OneDrive/Desktop/Project_Repos/Personalized-Memory-Assistant/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Send, Mic, Youtube, Sparkles, Menu, Plus, Trash2, MessageSquare, Home } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport HomePage from './HomePage';\r\nimport LoginPage from './LoginPage';\r\nimport RegisterPage from './RegisterPage';\r\nimport './App.css';\r\n\r\nconst API_BASE = 'http://localhost:8000';\r\n\r\nexport default function App() {\r\n  const [showHomePage, setShowHomePage] = useState(true);\r\n  const [showAuth, setShowAuth] = useState('none'); // 'none', 'login', 'register'\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [currentSessionId, setCurrentSessionId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const messagesContainerRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n\r\n  // Initialize Web Speech API\r\n  useEffect(() => {\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      recognition.continuous = false;\r\n      recognition.interimResults = false;\r\n      recognition.lang = 'en-US';\r\n\r\n      recognition.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        setInput(transcript);\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognition.onerror = () => {\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognition.onend = () => {\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognitionRef.current = recognition;\r\n    }\r\n  }, []);\r\n\r\n  // Check authentication on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const savedUser = localStorage.getItem('user');\r\n    \r\n    if (token && savedUser) {\r\n      setIsAuthenticated(true);\r\n      setUser(JSON.parse(savedUser));\r\n      // Verify token is still valid\r\n      verifyToken(token);\r\n    }\r\n  }, []);\r\n\r\n  const verifyToken = async (token) => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/auth/me`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      setUser(response.data);\r\n      setIsAuthenticated(true);\r\n    } catch (error) {\r\n      // Token invalid, clear auth\r\n      handleLogout();\r\n    }\r\n  };\r\n\r\n  const handleLoginSuccess = (data) => {\r\n    setUser(data.user);\r\n    setIsAuthenticated(true);\r\n    setShowAuth('none');\r\n  };\r\n\r\n  const handleRegisterSuccess = (data) => {\r\n    setUser(data.user);\r\n    setIsAuthenticated(true);\r\n    setShowAuth('none');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setIsAuthenticated(false);\r\n    setUser(null);\r\n    setShowHomePage(true);\r\n    setMessages([]);\r\n    setSessions([]);\r\n    setCurrentSessionId(null);\r\n  };\r\n\r\n  const handleEnterChat = () => {\r\n    if (!isAuthenticated) {\r\n      setShowAuth('login');\r\n      setShowHomePage(false);\r\n    } else {\r\n      setShowHomePage(false);\r\n    }\r\n  };\r\n\r\n  // Add Authorization header to all axios requests\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  // Load sessions on mount\r\n  useEffect(() => {\r\n    loadSessions();\r\n  }, []);\r\n\r\n  // Load messages when session changes\r\n  useEffect(() => {\r\n    if (currentSessionId) {\r\n      loadSession(currentSessionId);\r\n    }\r\n  }, [currentSessionId]);\r\n\r\n  // Auto-scroll to bottom with smooth behavior\r\n  useEffect(() => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n    }\r\n  }, [messages]);\r\n\r\n  const loadSessions = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/sessions`);\r\n      setSessions(response.data);\r\n      if (!currentSessionId && response.data.length > 0) {\r\n        setCurrentSessionId(response.data[0].session_id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading sessions:', error);\r\n    }\r\n  };\r\n\r\n  const loadSession = async (sessionId) => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/session/${sessionId}`);\r\n      setMessages(response.data.messages || []);\r\n      // Scroll to top first, then to bottom after messages load\r\n      setTimeout(() => {\r\n        if (messagesContainerRef.current) {\r\n          messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\r\n        }\r\n      }, 100);\r\n    } catch (error) {\r\n      console.error('Error loading session:', error);\r\n    }\r\n  };\r\n\r\n  const createNewSession = async () => {\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/session/new`);\r\n      const newSessionId = response.data.session_id;\r\n      await loadSessions();\r\n      setCurrentSessionId(newSessionId);\r\n      setMessages([]);\r\n    } catch (error) {\r\n      console.error('Error creating session:', error);\r\n    }\r\n  };\r\n\r\n  const deleteSession = async (sessionId, e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await axios.delete(`${API_BASE}/api/session/${sessionId}`);\r\n      await loadSessions();\r\n      if (currentSessionId === sessionId) {\r\n        setCurrentSessionId(null);\r\n        setMessages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting session:', error);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async (messageText = input) => {\r\n    if (!messageText.trim() || loading) return;\r\n\r\n    if (!currentSessionId) {\r\n      await createNewSession();\r\n      // Wait a bit for session to be created\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n    }\r\n\r\n    const userMessage = { role: 'user', content: messageText };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/chat`, {\r\n        message: messageText,\r\n        session_id: currentSessionId\r\n      });\r\n\r\n      const assistantMessage = { role: 'assistant', content: response.data.reply };\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n      await loadSessions(); // Refresh to get updated title\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      \r\n      // Get detailed error message from backend\r\n      let errorDetail = 'Sorry, I encountered an error. Please check if the backend is running and your API key is valid.';\r\n      if (error.response?.data?.detail) {\r\n        errorDetail = `Error: ${error.response.data.detail}`;\r\n      } else if (error.message) {\r\n        errorDetail = `Error: ${error.message}`;\r\n      }\r\n      \r\n      const errorMessage = { \r\n        role: 'assistant', \r\n        content: errorDetail\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleYoutubeSummary = async () => {\r\n    const url = prompt('Enter YouTube video URL:');\r\n    if (!url) return;\r\n\r\n    if (!currentSessionId) {\r\n      await createNewSession();\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n    }\r\n\r\n    const userMessage = { role: 'user', content: `Summarize: ${url}` };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/summarize`, {\r\n        url,\r\n        session_id: currentSessionId\r\n      });\r\n\r\n      const summaryMessage = { role: 'assistant', content: response.data.summary };\r\n      setMessages(prev => [...prev, summaryMessage]);\r\n      await loadSessions();\r\n    } catch (error) {\r\n      console.error('Error summarizing video:', error);\r\n      const errorMessage = { \r\n        role: 'assistant', \r\n        content: 'Sorry, I could not summarize the video. Make sure it has English captions.' \r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startVoiceInput = () => {\r\n    if (recognitionRef.current && !isListening) {\r\n      setIsListening(true);\r\n      recognitionRef.current.start();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    sendMessage();\r\n  };\r\n\r\n  // Show login page\r\n  if (showAuth === 'login') {\r\n    return (\r\n      <LoginPage \r\n        onLoginSuccess={handleLoginSuccess}\r\n        onSwitchToRegister={() => setShowAuth('register')}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Show register page\r\n  if (showAuth === 'register') {\r\n    return (\r\n      <RegisterPage \r\n        onRegisterSuccess={handleRegisterSuccess}\r\n        onSwitchToLogin={() => setShowAuth('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Show homepage\r\n  if (showHomePage) {\r\n    return <HomePage onEnterChat={handleEnterChat} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {/* Sidebar */}\r\n      <AnimatePresence>\r\n        {sidebarOpen && (\r\n          <motion.div\r\n            className=\"sidebar\"\r\n            initial={{ x: -300 }}\r\n            animate={{ x: 0 }}\r\n            exit={{ x: -300 }}\r\n            transition={{ type: 'spring', stiffness: 300, damping: 30 }}\r\n          >\r\n            <div className=\"sidebar-header\">\r\n              <h1 className=\"sidebar-title\">\r\n                <Sparkles size={24} />\r\n                Memory Assistant\r\n              </h1>\r\n              {user && (\r\n                <div className=\"user-info\">\r\n                  <span className=\"user-name\">ðŸ‘¤ {user.username}</span>\r\n                </div>\r\n              )}\r\n              <button className=\"new-chat-btn\" onClick={createNewSession}>\r\n                <Plus size={20} />\r\n                New Chat\r\n              </button>\r\n              <button className=\"back-home-btn\" onClick={() => setShowHomePage(true)}>\r\n                <Home size={20} />\r\n                Back to Home\r\n              </button>\r\n              <button className=\"logout-btn\" onClick={handleLogout}>\r\n                <span>Logout</span>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"sessions-list\">\r\n              {sessions.map((session) => (\r\n                <motion.div\r\n                  key={session.session_id}\r\n                  className={`session-item ${currentSessionId === session.session_id ? 'active' : ''}`}\r\n                  onClick={() => setCurrentSessionId(session.session_id)}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                >\r\n                  <MessageSquare size={16} />\r\n                  <span className=\"session-title\">{session.title}</span>\r\n                  <button\r\n                    className=\"delete-session-btn\"\r\n                    onClick={(e) => deleteSession(session.session_id, e)}\r\n                  >\r\n                    <Trash2 size={14} />\r\n                  </button>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Main Chat Area */}\r\n      <div className=\"main-content\">\r\n        <div className=\"chat-header\">\r\n          <button className=\"menu-btn\" onClick={() => setSidebarOpen(!sidebarOpen)}>\r\n            <Menu size={24} />\r\n          </button>\r\n          <h2 className=\"chat-title\">\r\n            {sessions.find(s => s.session_id === currentSessionId)?.title || 'New Chat'}\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"messages-container\" ref={messagesContainerRef}>\r\n          {messages.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <Sparkles size={64} className=\"empty-icon\" />\r\n              <h2>Start a Conversation</h2>\r\n              <p>Ask me anything, summarize YouTube videos, or use voice input!</p>\r\n            </div>\r\n          ) : (\r\n            <AnimatePresence>\r\n              {messages.map((msg, idx) => (\r\n                <motion.div\r\n                  key={idx}\r\n                  className={`message ${msg.role}`}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <div className=\"message-content\">\r\n                    <div className=\"message-avatar\">\r\n                      {msg.role === 'user' ? 'ðŸ‘¤' : 'ðŸ¤–'}\r\n                    </div>\r\n                    <div className=\"message-text\">{msg.content}</div>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n          )}\r\n          \r\n          {loading && (\r\n            <motion.div\r\n              className=\"message assistant loading\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n            >\r\n              <div className=\"message-content\">\r\n                <div className=\"message-avatar\">ðŸ¤–</div>\r\n                <div className=\"typing-indicator\">\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"input-container\">\r\n          <form onSubmit={handleSubmit} className=\"input-form\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"icon-btn youtube-btn\"\r\n              onClick={handleYoutubeSummary}\r\n              title=\"Summarize YouTube Video\"\r\n            >\r\n              <Youtube size={20} />\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className={`icon-btn mic-btn ${isListening ? 'listening' : ''}`}\r\n              onClick={startVoiceInput}\r\n              title=\"Voice Input\"\r\n            >\r\n              <Mic size={20} />\r\n            </button>\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"message-input\"\r\n              placeholder=\"Type your message...\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              disabled={loading}\r\n            />\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"send-btn\"\r\n              disabled={!input.trim() || loading}\r\n            >\r\n              <Send size={20} />\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}