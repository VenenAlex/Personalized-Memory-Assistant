{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\venen alex\\\\OneDrive\\\\Desktop\\\\Project_Repos\\\\Personalized-Memory-Assistant\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Send, Mic, Youtube, Sparkles, Menu, Plus, Trash2, MessageSquare } from 'lucide-react';\nimport axios from 'axios';\nimport HomePage from './HomePage';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nexport default function App() {\n  _s();\n  var _sessions$find;\n  const [showHomePage, setShowHomePage] = useState(true);\n  const [sessions, setSessions] = useState([]);\n  const [currentSessionId, setCurrentSessionId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [isListening, setIsListening] = useState(false);\n  const messagesEndRef = useRef(null);\n  const messagesContainerRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // Initialize Web Speech API\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setInput(transcript);\n        setIsListening(false);\n      };\n      recognition.onerror = () => {\n        setIsListening(false);\n      };\n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current = recognition;\n    }\n  }, []);\n\n  // Load sessions on mount\n  useEffect(() => {\n    loadSessions();\n  }, []);\n\n  // Load messages when session changes\n  useEffect(() => {\n    if (currentSessionId) {\n      loadSession(currentSessionId);\n    }\n  }, [currentSessionId]);\n\n  // Auto-scroll to bottom with smooth behavior\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end'\n      });\n    }\n  }, [messages]);\n  const loadSessions = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/sessions`);\n      setSessions(response.data);\n      if (!currentSessionId && response.data.length > 0) {\n        setCurrentSessionId(response.data[0].session_id);\n      }\n    } catch (error) {\n      console.error('Error loading sessions:', error);\n    }\n  };\n  const loadSession = async sessionId => {\n    try {\n      const response = await axios.get(`${API_BASE}/api/session/${sessionId}`);\n      setMessages(response.data.messages || []);\n      // Scroll to top first, then to bottom after messages load\n      setTimeout(() => {\n        if (messagesContainerRef.current) {\n          messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n        }\n      }, 100);\n    } catch (error) {\n      console.error('Error loading session:', error);\n    }\n  };\n  const createNewSession = async () => {\n    try {\n      const response = await axios.post(`${API_BASE}/api/session/new`);\n      const newSessionId = response.data.session_id;\n      await loadSessions();\n      setCurrentSessionId(newSessionId);\n      setMessages([]);\n    } catch (error) {\n      console.error('Error creating session:', error);\n    }\n  };\n  const deleteSession = async (sessionId, e) => {\n    e.stopPropagation();\n    try {\n      await axios.delete(`${API_BASE}/api/session/${sessionId}`);\n      await loadSessions();\n      if (currentSessionId === sessionId) {\n        setCurrentSessionId(null);\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Error deleting session:', error);\n    }\n  };\n  const sendMessage = async (messageText = input) => {\n    if (!messageText.trim() || loading) return;\n    if (!currentSessionId) {\n      await createNewSession();\n      // Wait a bit for session to be created\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n    const userMessage = {\n      role: 'user',\n      content: messageText\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE}/api/chat`, {\n        message: messageText,\n        session_id: currentSessionId\n      });\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.reply\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      await loadSessions(); // Refresh to get updated title\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error sending message:', error);\n\n      // Get detailed error message from backend\n      let errorDetail = 'Sorry, I encountered an error. Please check if the backend is running and your API key is valid.';\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.detail) {\n        errorDetail = `Error: ${error.response.data.detail}`;\n      } else if (error.message) {\n        errorDetail = `Error: ${error.message}`;\n      }\n      const errorMessage = {\n        role: 'assistant',\n        content: errorDetail\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleYoutubeSummary = async () => {\n    const url = prompt('Enter YouTube video URL:');\n    if (!url) return;\n    if (!currentSessionId) {\n      await createNewSession();\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n    const userMessage = {\n      role: 'user',\n      content: `Summarize: ${url}`\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE}/api/summarize`, {\n        url,\n        session_id: currentSessionId\n      });\n      const summaryMessage = {\n        role: 'assistant',\n        content: response.data.summary\n      };\n      setMessages(prev => [...prev, summaryMessage]);\n      await loadSessions();\n    } catch (error) {\n      console.error('Error summarizing video:', error);\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Sorry, I could not summarize the video. Make sure it has English captions.'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startVoiceInput = () => {\n    if (recognitionRef.current && !isListening) {\n      setIsListening(true);\n      recognitionRef.current.start();\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendMessage();\n  };\n  if (showHomePage) {\n    return /*#__PURE__*/_jsxDEV(HomePage, {\n      onEnterChat: () => setShowHomePage(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: sidebarOpen && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"sidebar\",\n        initial: {\n          x: -300\n        },\n        animate: {\n          x: 0\n        },\n        exit: {\n          x: -300\n        },\n        transition: {\n          type: 'spring',\n          stiffness: 300,\n          damping: 30\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"sidebar-title\",\n            children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), \"Memory Assistant\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-chat-btn\",\n            onClick: createNewSession,\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), \"New Chat\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sessions-list\",\n          children: sessions.map(session => /*#__PURE__*/_jsxDEV(motion.div, {\n            className: `session-item ${currentSessionId === session.session_id ? 'active' : ''}`,\n            onClick: () => setCurrentSessionId(session.session_id),\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"session-title\",\n              children: session.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-session-btn\",\n              onClick: e => deleteSession(session.session_id, e),\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 19\n            }, this)]\n          }, session.session_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-btn\",\n          onClick: () => setSidebarOpen(!sidebarOpen),\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"chat-title\",\n          children: ((_sessions$find = sessions.find(s => s.session_id === currentSessionId)) === null || _sessions$find === void 0 ? void 0 : _sessions$find.title) || 'New Chat'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-container\",\n        ref: messagesContainerRef,\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            size: 64,\n            className: \"empty-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Start a Conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ask me anything, summarize YouTube videos, or use voice input!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(motion.div, {\n            className: `message ${msg.role}`,\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            transition: {\n              duration: 0.3\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: msg.role === 'user' ? 'ðŸ‘¤' : 'ðŸ¤–'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), loading && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"message assistant loading\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"input-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"icon-btn youtube-btn\",\n            onClick: handleYoutubeSummary,\n            title: \"Summarize YouTube Video\",\n            children: /*#__PURE__*/_jsxDEV(Youtube, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `icon-btn mic-btn ${isListening ? 'listening' : ''}`,\n            onClick: startVoiceInput,\n            title: \"Voice Input\",\n            children: /*#__PURE__*/_jsxDEV(Mic, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"message-input\",\n            placeholder: \"Type your message...\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"send-btn\",\n            disabled: !input.trim() || loading,\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5LM26hm3Sl9j9k9OTvxkyDfEEpc=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Send","Mic","Youtube","Sparkles","Menu","Plus","Trash2","MessageSquare","axios","HomePage","jsxDEV","_jsxDEV","API_BASE","App","_s","_sessions$find","showHomePage","setShowHomePage","sessions","setSessions","currentSessionId","setCurrentSessionId","messages","setMessages","input","setInput","loading","setLoading","sidebarOpen","setSidebarOpen","isListening","setIsListening","messagesEndRef","messagesContainerRef","recognitionRef","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","onerror","onend","current","loadSessions","loadSession","scrollIntoView","behavior","block","response","get","data","length","session_id","error","console","sessionId","setTimeout","scrollTop","scrollHeight","createNewSession","post","newSessionId","deleteSession","e","stopPropagation","delete","sendMessage","messageText","trim","Promise","resolve","userMessage","role","content","prev","message","assistantMessage","reply","_error$response","_error$response$data","errorDetail","detail","errorMessage","handleYoutubeSummary","url","prompt","summaryMessage","summary","startVoiceInput","start","handleSubmit","preventDefault","onEnterChat","fileName","_jsxFileName","lineNumber","columnNumber","className","children","div","initial","x","animate","exit","transition","type","stiffness","damping","size","onClick","map","session","whileHover","scale","whileTap","title","find","s","ref","msg","idx","opacity","y","duration","onSubmit","placeholder","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/venen alex/OneDrive/Desktop/Project_Repos/Personalized-Memory-Assistant/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Send, Mic, Youtube, Sparkles, Menu, Plus, Trash2, MessageSquare } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport HomePage from './HomePage';\r\nimport './App.css';\r\n\r\nconst API_BASE = 'http://localhost:8000';\r\n\r\nexport default function App() {\r\n  const [showHomePage, setShowHomePage] = useState(true);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [currentSessionId, setCurrentSessionId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const messagesContainerRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n\r\n  // Initialize Web Speech API\r\n  useEffect(() => {\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      recognition.continuous = false;\r\n      recognition.interimResults = false;\r\n      recognition.lang = 'en-US';\r\n\r\n      recognition.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        setInput(transcript);\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognition.onerror = () => {\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognition.onend = () => {\r\n        setIsListening(false);\r\n      };\r\n\r\n      recognitionRef.current = recognition;\r\n    }\r\n  }, []);\r\n\r\n  // Load sessions on mount\r\n  useEffect(() => {\r\n    loadSessions();\r\n  }, []);\r\n\r\n  // Load messages when session changes\r\n  useEffect(() => {\r\n    if (currentSessionId) {\r\n      loadSession(currentSessionId);\r\n    }\r\n  }, [currentSessionId]);\r\n\r\n  // Auto-scroll to bottom with smooth behavior\r\n  useEffect(() => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n    }\r\n  }, [messages]);\r\n\r\n  const loadSessions = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/sessions`);\r\n      setSessions(response.data);\r\n      if (!currentSessionId && response.data.length > 0) {\r\n        setCurrentSessionId(response.data[0].session_id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading sessions:', error);\r\n    }\r\n  };\r\n\r\n  const loadSession = async (sessionId) => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/api/session/${sessionId}`);\r\n      setMessages(response.data.messages || []);\r\n      // Scroll to top first, then to bottom after messages load\r\n      setTimeout(() => {\r\n        if (messagesContainerRef.current) {\r\n          messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\r\n        }\r\n      }, 100);\r\n    } catch (error) {\r\n      console.error('Error loading session:', error);\r\n    }\r\n  };\r\n\r\n  const createNewSession = async () => {\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/session/new`);\r\n      const newSessionId = response.data.session_id;\r\n      await loadSessions();\r\n      setCurrentSessionId(newSessionId);\r\n      setMessages([]);\r\n    } catch (error) {\r\n      console.error('Error creating session:', error);\r\n    }\r\n  };\r\n\r\n  const deleteSession = async (sessionId, e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      await axios.delete(`${API_BASE}/api/session/${sessionId}`);\r\n      await loadSessions();\r\n      if (currentSessionId === sessionId) {\r\n        setCurrentSessionId(null);\r\n        setMessages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting session:', error);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async (messageText = input) => {\r\n    if (!messageText.trim() || loading) return;\r\n\r\n    if (!currentSessionId) {\r\n      await createNewSession();\r\n      // Wait a bit for session to be created\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n    }\r\n\r\n    const userMessage = { role: 'user', content: messageText };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/chat`, {\r\n        message: messageText,\r\n        session_id: currentSessionId\r\n      });\r\n\r\n      const assistantMessage = { role: 'assistant', content: response.data.reply };\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n      await loadSessions(); // Refresh to get updated title\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      \r\n      // Get detailed error message from backend\r\n      let errorDetail = 'Sorry, I encountered an error. Please check if the backend is running and your API key is valid.';\r\n      if (error.response?.data?.detail) {\r\n        errorDetail = `Error: ${error.response.data.detail}`;\r\n      } else if (error.message) {\r\n        errorDetail = `Error: ${error.message}`;\r\n      }\r\n      \r\n      const errorMessage = { \r\n        role: 'assistant', \r\n        content: errorDetail\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleYoutubeSummary = async () => {\r\n    const url = prompt('Enter YouTube video URL:');\r\n    if (!url) return;\r\n\r\n    if (!currentSessionId) {\r\n      await createNewSession();\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n    }\r\n\r\n    const userMessage = { role: 'user', content: `Summarize: ${url}` };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/api/summarize`, {\r\n        url,\r\n        session_id: currentSessionId\r\n      });\r\n\r\n      const summaryMessage = { role: 'assistant', content: response.data.summary };\r\n      setMessages(prev => [...prev, summaryMessage]);\r\n      await loadSessions();\r\n    } catch (error) {\r\n      console.error('Error summarizing video:', error);\r\n      const errorMessage = { \r\n        role: 'assistant', \r\n        content: 'Sorry, I could not summarize the video. Make sure it has English captions.' \r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startVoiceInput = () => {\r\n    if (recognitionRef.current && !isListening) {\r\n      setIsListening(true);\r\n      recognitionRef.current.start();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    sendMessage();\r\n  };\r\n\r\n  if (showHomePage) {\r\n    return <HomePage onEnterChat={() => setShowHomePage(false)} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {/* Sidebar */}\r\n      <AnimatePresence>\r\n        {sidebarOpen && (\r\n          <motion.div\r\n            className=\"sidebar\"\r\n            initial={{ x: -300 }}\r\n            animate={{ x: 0 }}\r\n            exit={{ x: -300 }}\r\n            transition={{ type: 'spring', stiffness: 300, damping: 30 }}\r\n          >\r\n            <div className=\"sidebar-header\">\r\n              <h1 className=\"sidebar-title\">\r\n                <Sparkles size={24} />\r\n                Memory Assistant\r\n              </h1>\r\n              <button className=\"new-chat-btn\" onClick={createNewSession}>\r\n                <Plus size={20} />\r\n                New Chat\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"sessions-list\">\r\n              {sessions.map((session) => (\r\n                <motion.div\r\n                  key={session.session_id}\r\n                  className={`session-item ${currentSessionId === session.session_id ? 'active' : ''}`}\r\n                  onClick={() => setCurrentSessionId(session.session_id)}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                >\r\n                  <MessageSquare size={16} />\r\n                  <span className=\"session-title\">{session.title}</span>\r\n                  <button\r\n                    className=\"delete-session-btn\"\r\n                    onClick={(e) => deleteSession(session.session_id, e)}\r\n                  >\r\n                    <Trash2 size={14} />\r\n                  </button>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Main Chat Area */}\r\n      <div className=\"main-content\">\r\n        <div className=\"chat-header\">\r\n          <button className=\"menu-btn\" onClick={() => setSidebarOpen(!sidebarOpen)}>\r\n            <Menu size={24} />\r\n          </button>\r\n          <h2 className=\"chat-title\">\r\n            {sessions.find(s => s.session_id === currentSessionId)?.title || 'New Chat'}\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"messages-container\" ref={messagesContainerRef}>\r\n          {messages.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <Sparkles size={64} className=\"empty-icon\" />\r\n              <h2>Start a Conversation</h2>\r\n              <p>Ask me anything, summarize YouTube videos, or use voice input!</p>\r\n            </div>\r\n          ) : (\r\n            <AnimatePresence>\r\n              {messages.map((msg, idx) => (\r\n                <motion.div\r\n                  key={idx}\r\n                  className={`message ${msg.role}`}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <div className=\"message-content\">\r\n                    <div className=\"message-avatar\">\r\n                      {msg.role === 'user' ? 'ðŸ‘¤' : 'ðŸ¤–'}\r\n                    </div>\r\n                    <div className=\"message-text\">{msg.content}</div>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n          )}\r\n          \r\n          {loading && (\r\n            <motion.div\r\n              className=\"message assistant loading\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n            >\r\n              <div className=\"message-content\">\r\n                <div className=\"message-avatar\">ðŸ¤–</div>\r\n                <div className=\"typing-indicator\">\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        <div className=\"input-container\">\r\n          <form onSubmit={handleSubmit} className=\"input-form\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"icon-btn youtube-btn\"\r\n              onClick={handleYoutubeSummary}\r\n              title=\"Summarize YouTube Video\"\r\n            >\r\n              <Youtube size={20} />\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className={`icon-btn mic-btn ${isListening ? 'listening' : ''}`}\r\n              onClick={startVoiceInput}\r\n              title=\"Voice Input\"\r\n            >\r\n              <Mic size={20} />\r\n            </button>\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"message-input\"\r\n              placeholder=\"Type your message...\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              disabled={loading}\r\n            />\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"send-btn\"\r\n              disabled={!input.trim() || loading}\r\n            >\r\n              <Send size={20} />\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}